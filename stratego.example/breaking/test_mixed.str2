module test_mixed

signature
  constructors
    Nil 	: 				         List(a)
    Cons 	: a * List(a) 	-> List(a)
    Car1  : a             -> List(a)
    Car2  : a             -> List(a)

strategies
  uncar2 = match sequential
             case | Car1(_): Cons(!1, Nil())
             case | Car2(_): Cons(!2, Nil())
             case | "abc": !"cba"
             case | 8: !54
             case | 5.4: !8
           end

  uncar2(|x) = match sequential
                 case | Cons(x, _): !x // equality check
                 case y | Cons(y, _): !y // matches all Cons(_, _)
                 case z | Cons(Nil(), z): !z // dead
              end
